@{
    ViewData["Title"] = "Inicio";
    bool isAdmin = User?.Identity?.IsAuthenticated == true && (User?.IsInRole("Admin") ?? false);
    string primaryCtaText = isAdmin ? "Ir al inventario" : "Explorar catálogo";
    string primaryCtaController = isAdmin ? "Producto" : "Producto";
    string primaryCtaAction = isAdmin ? "Index" : "Index";
    string secondaryCtaText = isAdmin ? "Revisar pedidos" : "Revisar carrito";
    string secondaryCtaController = isAdmin ? "AdminPedidos" : "Carrito";
    string secondaryCtaAction = isAdmin ? "Index" : "Index";
}

<section class="hero">
    <div class="container">
        <div class="stat-chip">
            <i class="bi bi-lightning-charge-fill"></i>
            Entregas rápidas a toda la sede
        </div>
        <h1 class="text-gradient">Energía deliciosa para cada jugada</h1>
        <p class="lead">
            @(isAdmin
                ? "Administra el ecosistema SnackGol desde un único panel: inventario, pedidos y experiencias de los compradores."
                : "Descubre el catálogo curado de snacks y bebidas de SnackGol y haz seguimiento de tus pedidos en tiempo real.")
        </p>
        <div class="d-flex flex-column flex-sm-row justify-content-center gap-3 mt-4">
            <a class="btn btn-primary btn-lg px-4" asp-controller="@primaryCtaController" asp-action="@primaryCtaAction">
                <i class="bi bi-shop-window me-2"></i>@primaryCtaText
            </a>
            <a class="btn btn-outline-dark btn-lg px-4" asp-controller="@secondaryCtaController" asp-action="@secondaryCtaAction">
                <i class="bi bi-bag-check me-2"></i>@secondaryCtaText
            </a>
        </div>
        <div class="row justify-content-center mt-5 text-start text-sm-center">
            <div class="col-6 col-sm-4 col-lg-3 mb-3">
                <div class="pill w-100 justify-content-center">
                    <i class="bi bi-box-seam"></i> +120 productos
                </div>
            </div>
            <div class="col-6 col-sm-4 col-lg-3 mb-3">
                <div class="pill w-100 justify-content-center">
                    <i class="bi bi-headset"></i> Soporte 24/7
                </div>
            </div>
            <div class="col-6 col-sm-4 col-lg-3 mb-3">
                <div class="pill w-100 justify-content-center">
                    <i class="bi bi-truck"></i> Entrega inmediata
                </div>
            </div>
        </div>
    </div>
</section>

<section class="py-5">
    <div class="container">
        <div class="row align-items-center gy-4">
            <div class="col-lg-5">
                <h2 class="section-title mb-3">Una plataforma pensada para equipos que se mueven rápido</h2>
                <p class="text-muted">Gestiona tu catálogo, actualiza inventario y centraliza pedidos desde una sola consola. SnackGol mantiene sincronizados el autoservicio y la operación interna.</p>
                <div class="d-flex flex-column gap-3 mt-4">
                    @if (isAdmin)
                    {
                        <div class="d-flex gap-3">
                            <span class="feature-icon"><i class="bi bi-graph-up"></i></span>
                            <div>
                                <h6 class="fw-semibold mb-1">Panel con métricas clave</h6>
                                <p class="text-muted mb-0">Controla desempeño y ventas por producto con indicadores claros y accionables.</p>
                            </div>
                        </div>
                        <div class="d-flex gap-3">
                            <span class="feature-icon"><i class="bi bi-people"></i></span>
                            <div>
                                <h6 class="fw-semibold mb-1">Roles y permisos</h6>
                                <p class="text-muted mb-0">Administra usuarios, accesos y sesiones desde la API centralizada del proyecto.</p>
                            </div>
                        </div>
                        <div class="d-flex gap-3">
                            <span class="feature-icon"><i class="bi bi-box-seam"></i></span>
                            <div>
                                <h6 class="fw-semibold mb-1">Orquestación logística</h6>
                                <p class="text-muted mb-0">Sincroniza inventario, pedidos y QR de retiro en una sola consola.</p>
                            </div>
                        </div>
                    }
                    else
                    {
                        <div class="d-flex gap-3">
                            <span class="feature-icon"><i class="bi bi-bag-heart"></i></span>
                            <div>
                                <h6 class="fw-semibold mb-1">Checkout optimizado</h6>
                                <p class="text-muted mb-0">Una experiencia de compra clara que mejora la conversión y fideliza a tus clientes.</p>
                            </div>
                        </div>
                        <div class="d-flex gap-3">
                            <span class="feature-icon"><i class="bi bi-qr-code"></i></span>
                            <div>
                                <h6 class="fw-semibold mb-1">Seguimiento con QR</h6>
                                <p class="text-muted mb-0">Recibe confirmaciones inmediatas, códigos de retiro y alertas en tiempo real.</p>
                            </div>
                        </div>
                        <div class="d-flex gap-3">
                            <span class="feature-icon"><i class="bi bi-shield-check"></i></span>
                            <div>
                                <h6 class="fw-semibold mb-1">Pagos protegidos</h6>
                                <p class="text-muted mb-0">Tus transacciones quedan cifradas y asociadas a tu sesión segura.</p>
                            </div>
                        </div>
                    }
                </div>
            </div>
            <div class="col-lg-7">
                <div class="row g-4">
                    <div class="col-md-6">
                        <div class="feature-card h-100">
                            <span class="badge-soft badge-soft-success mb-3">Inventario</span>
                            <h5 class="fw-bold">Sincroniza productos</h5>
                            <p class="text-muted mb-0">Conecta directamente con la API de SnackGol para mantener precios, stock e imágenes actualizadas.</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="feature-card h-100">
                            <span class="badge-soft badge-soft-warning mb-3">Pedidos</span>
                            <h5 class="fw-bold">Procesos claros</h5>
                            <p class="text-muted mb-0">Recibe confirmaciones inmediatas y mantén trazabilidad de cada orden en curso.</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="feature-card h-100">
                            <span class="badge-soft mb-3">Integraciones</span>
                            <h5 class="fw-bold">API preparada</h5>
                            <p class="text-muted mb-0">Escala tu frontend conectando nuevas vistas o aplicaciones móviles sin fricción.</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="feature-card h-100">
                            <span class="badge-soft badge-soft-danger mb-3">Seguridad</span>
                            <h5 class="fw-bold">Autenticación robusta</h5>
                            <p class="text-muted mb-0">Protege la información de clientes gracias a la librería de autenticación personalizada.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="py-5 bg-light" id="catalogo">
    <div class="container">
        <div class="d-flex flex-column flex-lg-row align-items-start align-items-lg-center justify-content-between mb-4 gap-3">
            <div>
                <span class="pill mb-3"><i class="bi bi-stars"></i> Catálogo destacado</span>
                <h2 class="section-title mb-2">Productos que tus clientes ya aman</h2>
                <p class="text-muted mb-0">Refrescos, snacks dulces y salados, organizados por categoría para que elijas en segundos.</p>
            </div>
            <a class="btn btn-primary btn-lg" asp-controller="Producto" asp-action="Index">
                Ver catálogo completo
            </a>
        </div>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="product-card">
                    <div class="product-img-wrapper mb-3">
                        <img src="https://images.unsplash.com/photo-1622708862830-a026e3ef60bd?auto=format&fit=crop&w=720&q=80" alt="Bebidas" />
                        <span class="badge bg-primary badge-floating">Bebidas</span>
                    </div>
                    <h5 class="fw-semibold">Bebidas energéticas y refrescantes</h5>
                    <p class="product-meta line-clamp-3">Mantén hidratado a tu equipo con opciones sin azúcar, jugos naturales y bebidas con electrolitos.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="product-card">
                    <div class="product-img-wrapper mb-3">
                        <img src="https://images.unsplash.com/photo-1514996937319-344454492b37?auto=format&fit=crop&w=720&q=80" alt="Snacks" />
                        <span class="badge bg-warning text-dark badge-floating">Snacks</span>
                    </div>
                    <h5 class="fw-semibold">Snacks para media jornada</h5>
                    <p class="product-meta line-clamp-3">Chips horneadas, frutos secos y opciones libres de gluten listas para entregar.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="product-card">
                    <div class="product-img-wrapper mb-3">
                        <img src="https://images.unsplash.com/photo-1486427944299-d1955d23e34d?auto=format&fit=crop&w=720&q=80" alt="Dulces" />
                        <span class="badge bg-danger badge-floating">Dulces</span>
                    </div>
                    <h5 class="fw-semibold">Un toque dulce para celebrar</h5>
                    <p class="product-meta line-clamp-3">Postres individuales, gomitas y chocolates premium con suministro constante.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="py-5" id="contacto">
    <div class="container">
        <div class="row gy-4 align-items-stretch">
            <div class="col-lg-6">
                <h2 class="section-title mb-3">¿Listo para llevar SnackGol a otro nivel?</h2>
                <p class="text-muted">Comparte tu etapa actual del proyecto y te ayudamos a alinear las siguientes iteraciones. Nuestro equipo responde en menos de 24 horas.</p>
                <ul class="list-unstyled mt-4 text-muted">
                    <li class="mb-3"><i class="bi bi-envelope-open text-primary me-2"></i> soporte@snackgol.dev</li>
                    <li class="mb-3"><i class="bi bi-whatsapp text-success me-2"></i> +57 300 123 4567</li>
                    <li class="mb-3"><i class="bi bi-geo-alt text-danger me-2"></i> Medellín, Colombia</li>
                </ul>
            </div>
            <div class="col-lg-6">
                <div class="contact-card h-100">
                    <h4 class="fw-bold mb-3">Escríbenos</h4>
                    <form>
                        <div class="mb-3">
                            <label class="form-label">Nombre</label>
                            <input type="text" class="form-control" placeholder="¿Cómo te llamas?" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Correo electrónico</label>
                            <input type="email" class="form-control" placeholder="nombre@empresa.com" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Mensaje</label>
                            <textarea class="form-control" rows="4" placeholder="Cuéntanos qué necesitas"></textarea>
                        </div>
                        <button type="button" class="btn btn-primary w-100">Enviar mensaje</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        // Guardar el token en sessionStorage si está disponible en TempData
        @if (!string.IsNullOrEmpty(TempData["Token"]?.ToString()))
        {
            <text>
                const token = '@TempData["Token"]';
                if (token) {
                    sessionStorage.setItem('access_token', token);
                }
            </text>
        }
    </script>
}